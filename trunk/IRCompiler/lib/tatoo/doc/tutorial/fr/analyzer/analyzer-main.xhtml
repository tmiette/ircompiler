<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">
 <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../../../tatoo.css" rel="stylesheet"/>
  <script type="text/javascript" src="../../../../tatoo.js"/>
  <title>Utiliser l'analyseur</title>
 </head>
 <body>
  <h1>Utiliser l'analyseur</h1>
   <p>La classe <tt>Analyzer</tt> est une classe de patron
   générée par Tatoo qui utilise les autres classes générées pour créer un analyseur complet. 
   Elle contient&nbsp;:</p>
  <ul>
    <li>deux méthodes <tt>run()</tt> qui permettent de lancer une analyse. Elle sont toutes les deux paramétrées par un flot en lecture de type 
     <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/io/Reader.html"><tt>Reader</tt></a>, un objet implantant l'interface
     <tt>TerminalAttributeEvaluator</tt> et 
     un objet implantant l'interface <tt>GrammarEvaluator</tt>. En plus, une des deux permet de préciser
     un non-terminal racine (une valeur de l'énumération <tt>NonTerminalEnum</tt>) 
     et une version de grammaire (une valeur de l'énumération <tt>VersionEnum</tt>) si nécessaire. </li>
    <li>une méthode <tt>main()</tt> qui utilise des implantations par défaut des interfaces <tt>TerminalAttributeEvaluator</tt>
    et <tt>GrammarEvaluator</tt> pour réaliser des affichages.</li>
   </ul>  
  <p>La façon la plus simple de réaliser une analyse consiste donc à appeler la méthode <tt>run()</tt> de
  l'analyseur, mais il parfois nécessaire de la recopier/modifier afin de paramétrer plus finement l'analyse.</p>
  <h2>Un exemple d'analyse</h2>
  <p>Dans l'exemple suivant, la méthode <tt>run()</tt> de la classes <tt><a href="../../../../samples/tutorial/gen-src/fr/umlv/tatoo/samples/tutorial/tools/Analyzer.java">Analyzer</a></tt>,
    générée à partir du fichier <tt><a href="../../../../samples/tutorial/calc.xtls">calc.xtls</a></tt>, est appelée avec, en arguments, une instance de la 
   classe  <a href="../tools/semantics.xhtml#IntExprAttributeEvaluator.java"><tt>IntExprAttributeEvaluator</tt></a> et une de la classe 
   <a href="../tools/semantics.xhtml#IntExprGrammarEvaluator.java"><tt>IntExprGrammarEvaluator</tt></a>.</p>
  <pre id="IntExprMain.java"/>
  <script type="text/javascript">
   myInclude("IntExprMain.java","../../../../samples/tutorial/src/fr/umlv/tatoo/samples/tutorial/IntExprMain.java");
  </script>
 <p>Pour lancer l'analyse, il suffit maintenant de taper, par exemple&nbsp;:</p>
 <pre><![CDATA[# java -cp .:tatoo-runtime.jar fr.umlv.tatoo.samples.tutorial.IntExprMain
1+1*2-1;
2
3*2;
6]]></pre>
 <p><a href="javascript:history.back()">Back</a></p>
  <h2>L'architecture de l'analyseur</h2>
  <div style="text-align:center"><img src="analyzer.png" alt="architecture de l'analyseur"/></div>
 <p><a href="javascript:history.back()">Back</a></p>
 </body>
</html>
